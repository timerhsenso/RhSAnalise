@model RhSensoERP.Web.Models.Bancos.BancosListViewModel
@{
    ViewData["Title"] = Model.PageTitle;
    Layout = "_CrudLayout";
    ViewData["EntityName"] = "Banco";
    ViewData["IconClass"] = "fas fa-university";
}

@*
    ============================================================================
    INDEX SIMPLIFICADO - Bancos
    ============================================================================
    Arquivo: Views/Bancos/Index.cshtml
    Versão: 2.1 (Corrigido)
    
    Esta view usa:
    - Layout _CrudLayout que inclui os modais automaticamente
    - Partial view _CrudTable para a tabela
    - Section ModalContent para o conteúdo específico do formulário
    - Section PageScripts para scripts específicos da página
    
    NOTA: O modal agora é renderizado pelo _CrudLayout, não mais via partial view,
    pois @RenderSection só funciona em layouts.
    
    ============================================================================
*@

@* Renderiza a tabela CRUD (container, header, toolbar, datatable) *@
@await Html.PartialAsync("_CrudTable", Model)

@* ============================================================================
   CONTEÚDO ESPECÍFICO DO MODAL DE BANCOS
   Esta section é renderizada dentro do modal pelo _CrudLayout
   ============================================================================ *@
@section ModalContent {
    <div class="row">
        <div class="col-md-4 mb-3">
            <label for="CodigoBanco" class="form-label">
                <i class="fas fa-barcode me-1"></i>
                Código do Banco <span class="text-danger">*</span>
            </label>
            <input type="text" class="form-control" id="CodigoBanco" name="CodigoBanco"
                   maxlength="3" required placeholder="Ex: 001">
            <small class="text-muted">Código de 3 dígitos</small>
        </div>

        <div class="col-md-8 mb-3">
            <label for="Nome" class="form-label">
                <i class="fas fa-building me-1"></i>
                Nome do Banco <span class="text-danger">*</span>
            </label>
            <input type="text" class="form-control" id="Nome" name="Nome"
                   maxlength="100" required placeholder="Ex: Banco do Brasil">
        </div>
    </div>

    <div class="row">
        <div class="col-md-12 mb-3">
            <div class="form-check form-switch">
                <input class="form-check-input" type="checkbox" id="Ativo" name="Ativo"
                       checked role="switch">
                <label class="form-check-label" for="Ativo">
                    <i class="fas fa-toggle-on me-1"></i> Banco Ativo
                </label>
            </div>
            <small class="text-muted">Desmarque para inativar o banco sem excluí-lo</small>
        </div>
    </div>
}

@* Scripts específicos da página *@
@section PageScripts {
    <script src="~/js/pages/bancos.js" asp-append-version="true"></script>
}
