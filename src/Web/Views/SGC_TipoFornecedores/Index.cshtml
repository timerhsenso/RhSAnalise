@model RhSensoERP.Web.Models.SGC_TipoFornecedores.SGC_TipoFornecedoresListViewModel
@{
    ViewData["Title"] = Model.PageTitle;
    Layout = "_CrudLayout";
    ViewData["EntityName"] = "Tipo Fornecedor";
    ViewData["IconClass"] = "fas fa-list";
}

@* ============================================================================
   Permissões injetadas para JavaScript (ANTES do script específico)
   ============================================================================ *@
<script>
    window.crudPermissions = {
        canCreate: @Model.CanCreate.ToString().ToLower(),
        canEdit: @Model.CanEdit.ToString().ToLower(),
        canDelete: @Model.CanDelete.ToString().ToLower(),
        canView: @Model.CanView.ToString().ToLower(),
        actions: "@Model.UserPermissions"
    };
</script>

@* ============================================================================
   Tabela usando partial _CrudTable (toolbar + datatable)
   ============================================================================ *@
@await Html.PartialAsync("_CrudTable", Model)

@* ============================================================================
   Conteúdo do Modal (apenas campos do formulário)
   O wrapper do modal está no _CrudLayout
   ============================================================================ *@
@section ModalContent {
    <input type="hidden" id="Id" name="Id" />
    <div class="row">
        <div class="col-md-6 mb-3">
            <label for="Codigo" class="form-label">
                Codigo <span class="text-danger">*</span>
            </label>
            <input type="text" class="form-control" id="Codigo" name="Codigo" 
                   placeholder="Digite codigo..." required  maxlength="20" />
        </div>
        <div class="col-md-6 mb-3">
            <label for="Descricao" class="form-label">
                Descricao <span class="text-danger">*</span>
            </label>
            <input type="text" class="form-control" id="Descricao" name="Descricao" 
                   placeholder="Digite descricao..." required  maxlength="100" />
        </div>
        <div class="col-md-6 mb-3">
            <label for="Icone" class="form-label">
                Icone
            </label>
            <input type="text" class="form-control" id="Icone" name="Icone" 
                   placeholder="Digite icone..."   maxlength="50" />
        </div>
        <div class="col-md-3 mb-3">
            <label for="CorHex" class="form-label">
                Cor Hex
            </label>
            <input type="text" class="form-control" id="CorHex" name="CorHex" 
                   placeholder="Digite cor hex..."   maxlength="7" />
        </div>
        <div class="col-md-3 mb-3">
            <label for="Ordem" class="form-label">
                Ordem <span class="text-danger">*</span>
            </label>
            <input type="number" class="form-control" id="Ordem" name="Ordem" 
                   placeholder="Digite ordem..." required  />
        </div>
        <div class="col-md-2 mb-3">
            <div class="form-check">
                <input type="checkbox" class="form-check-input" id="Ativo" name="Ativo"  />
                <label class="form-check-label" for="Ativo">Ativo</label>
            </div>
        </div>
    </div>
}

@* ============================================================================
   Script específico da entidade
   ============================================================================ *@
@section PageScripts {
    <script src="~/js/sgc_tipofornecedores/sgc_tipofornecedor.js" asp-append-version="true"></script>
}
