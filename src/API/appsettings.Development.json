{
  // ============================================================================
  // APPSETTINGS.DEVELOPMENT.JSON
  // ============================================================================
  // Configurações específicas para ambiente de DESENVOLVIMENTO.
  // Este arquivo sobrescreve valores do appsettings.json quando
  // ASPNETCORE_ENVIRONMENT=Development
  // 
  // Características do ambiente Development:
  // - Logs mais verbosos (Debug ao invés de Information)
  // - SQL logging mais detalhado
  // - Thresholds mais baixos para identificar problemas cedo
  // - Swagger sempre habilitado
  // ============================================================================

  // ============================================================================
  // LOGGING - Níveis de Log para Desenvolvimento
  // ============================================================================
  // Em desenvolvimento, usamos níveis mais verbosos para facilitar debug.
  // 
  // UTILIZADO: Sim - Program.cs linha 42 (.ReadFrom.Configuration)
  // ============================================================================
  "Logging": {
    "LogLevel": {
      // Debug: mostra logs detalhados de debug (mais verboso que Information)
      "Default": "Debug",
      
      // Mantém Information para SQL (evita excesso de logs)
      "Microsoft.EntityFrameworkCore.Database.Command": "Information",
      
      "Microsoft.EntityFrameworkCore.Infrastructure": "Warning",
      "Microsoft.AspNetCore": "Information",
      "System": "Information",
      
      // Debug para interceptor customizado (máximo detalhe de SQL)
      "RhSensoERP.Shared.Infrastructure.Persistence.Interceptors.SqlLoggingInterceptor": "Debug"
    }
  },

  // ============================================================================
  // ALLOWED HOSTS
  // ============================================================================
  // Mesmo valor que produção (permite qualquer host em desenvolvimento)
  // ============================================================================
  "AllowedHosts": "*",

  // ============================================================================
  // FEATURES - Funcionalidades Habilitadas em Desenvolvimento
  // ============================================================================
  "Features": {
    // Swagger sempre habilitado em desenvolvimento para facilitar testes
    "EnableSwagger": true
  },

  // ============================================================================
  // SWAGGER - Metadados para Desenvolvimento
  // ============================================================================
  "Swagger": {
    // Título diferenciado para identificar ambiente
    "Title": "RhSensoERP API - Development",
    
    "Description": "API do sistema de gestão RhSensoERP - Ambiente de Desenvolvimento",
    "ContactName": "Equipe RhSenso",
    "ContactEmail": "suporte@rhsenso.com.br"
  },

  // ============================================================================
  // CORS - Origens Permitidas em Desenvolvimento
  // ============================================================================
  // Mesmas origens que produção (frontends locais)
  // ============================================================================
  "Cors": {
    "AllowedOrigins": [
      "http://localhost:4200",   // Angular
      "http://localhost:3000",   // React/Next.js
      "http://localhost:5173",   // Vite
      "http://127.0.0.1:4200",
      "http://127.0.0.1:3000",
      "http://127.0.0.1:5173"
    ]
  },

  // ============================================================================
  // CONNECTION STRINGS - Banco de Dados Local
  // ============================================================================
  // Aponta para instância local do SQL Server para desenvolvimento.
  // Cada desenvolvedor pode ter seu próprio banco sem afetar outros.
  // ============================================================================
  "ConnectionStrings": {
    "DefaultConnection": "Server=localhost;Database=RhSensoERP;Trusted_Connection=True;TrustServerCertificate=True;MultipleActiveResultSets=true;Encrypt=False;"
  },

  // ============================================================================
  // JWT SETTINGS - Configuração JWT para Desenvolvimento
  // ============================================================================
  // Usa chave de desenvolvimento (não usar em produção!)
  // ============================================================================
  "JwtSettings": {
    // ⚠️ Chave de desenvolvimento - NUNCA usar em produção
    "SecretKey": "",
    
    "Issuer": "RhSensoERP.API",
    "Audience": "RhSensoERP.Client",
    
    // Mesmos valores de expiração que produção
    "AccessTokenExpirationMinutes": 15,
    "RefreshTokenExpirationDays": 7,
    "ClockSkewMinutes": 5
  },

  // ============================================================================
  // AUTH SETTINGS - Estratégias de Autenticação
  // ============================================================================
  "AuthSettings": {
    "DefaultStrategy": "Legado",
    "AllowMultipleStrategies": true,

    "Strategies": {
      "Legado": {
        "Enabled": true,
        "UseBCrypt": false,
        "SyncWithUserSecurity": true,
        "RequireEmailConfirmation": false,
        "Require2FA": false
      },

      "SaaS": {
        "Enabled": true,
        "UseBCrypt": true,
        "SyncWithUserSecurity": false,
        "RequireEmailConfirmation": false,
        "Require2FA": false
      },

      // ⚠️ INCONSISTÊNCIA DETECTADA!
      // Este arquivo usa "WindowsAD" mas appsettings.json usa "ADWin"
      // RECOMENDAÇÃO: Padronizar para "WindowsAD" em todos os arquivos
      "ADWin": {
        "Enabled": false,
        "UseBCrypt": false,
        "SyncWithUserSecurity": false,
        "RequireEmailConfirmation": false,
        "Require2FA": false,
        "Domain": "EXAMPLE",
        "LdapPath": "LDAP://dc=example,dc=com"
      }
    }
  },

  // ============================================================================
  // SECURITY POLICY - Políticas de Segurança
  // ============================================================================
  // Mesmas políticas que produção (não relaxar segurança em dev)
  // ============================================================================
  "SecurityPolicy": {
    "PasswordMinLength": 8,
    "PasswordRequireDigit": true,
    "PasswordRequireUppercase": true,
    "PasswordRequireLowercase": true,
    "PasswordRequireNonAlphanumeric": true,
    "MaxFailedAccessAttempts": 5,
    "LockoutDurationMinutes": 30,
    "ResetFailedCountAfterMinutes": 15
  },

  // ============================================================================
  // SQL LOGGING - Logging SQL Detalhado para Desenvolvimento
  // ============================================================================
  // Configuração mais agressiva para identificar problemas de performance cedo.
  // ============================================================================
  "SqlLogging": {
    "Enabled": true,
    "LogSqlText": true,
    "LogParameters": true,
    "FormatSql": true,
    "MaskSensitiveData": true,
    
    // Loga até queries triviais em desenvolvimento
    "LogTrivialQueries": false,
    
    // Threshold MENOR (5ms) para capturar mais queries
    "TrivialQueryThresholdMs": 5,
    
    // Threshold MENOR (500ms) para identificar queries lentas mais cedo
    // Em desenvolvimento, queremos otimizar queries que serão problemáticas em produção
    "SlowQueryWarningThresholdMs": 500
  },

  // ============================================================================
  // SERILOG - Configuração Avançada de Logging
  // ============================================================================
  // Esta seção sobrescreve a configuração hardcoded no Program.cs.
  // Permite ajustar logging sem recompilar o código.
  // 
  // UTILIZADO: Sim - Program.cs linha 42 (.ReadFrom.Configuration)
  // ============================================================================
  "Serilog": {
    // Níveis mínimos de log
    "MinimumLevel": {
      // Debug: nível padrão para desenvolvimento
      "Default": "Debug",
      
      // Sobrescreve níveis para namespaces específicos
      "Override": {
        // Information para Microsoft (evita excesso de logs do framework)
        "Microsoft": "Information",
        
        // Information para Entity Framework
        "Microsoft.EntityFrameworkCore": "Information",
        
        // Debug para interceptor customizado (máximo detalhe)
        "RhSensoERP.Shared.Infrastructure.Persistence.Interceptors.SqlLoggingInterceptor": "Debug"
      }
    },
    
    // Destinos dos logs (sinks)
    "WriteTo": [
      // SINK 1: Console - para visualização durante desenvolvimento
      {
        "Name": "Console",
        "Args": {
          // Template compacto para facilitar leitura no terminal
          "outputTemplate": "[{Timestamp:HH:mm:ss} {Level:u3}] {Message:lj}{NewLine}{Exception}"
        }
      },
      
      // SINK 2: Arquivo - logs gerais da aplicação
      {
        "Name": "File",
        "Args": {
          // Arquivo rotacionado diariamente: log-2025-11-19.txt
          "path": "logs/log-.txt",
          
          // Rotação diária
          "rollingInterval": "Day",
          
          // Mantém últimos 30 dias
          "retainedFileCountLimit": 30,
          
          // Template detalhado com timestamp completo
          "outputTemplate": "{Timestamp:yyyy-MM-dd HH:mm:ss.fff} [{Level:u3}] {Message:lj}{NewLine}{Exception}"
        }
      },
      
      // SINK 3: Arquivo SQL - logs específicos de queries SQL
      {
        "Name": "File",
        "Args": {
          // Arquivo separado para SQL: sql-2025-11-19.txt
          "path": "logs/sql-.txt",
          
          "rollingInterval": "Day",
          
          // Mantém apenas 7 dias (logs SQL são volumosos)
          "retainedFileCountLimit": 7,
          
          // Template simplificado (apenas timestamp e mensagem)
          "outputTemplate": "{Timestamp:HH:mm:ss.fff} {Message:lj}{NewLine}"
        }
      }
    ]
  }
}
